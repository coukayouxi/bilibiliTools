<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilibili API</title>
    <link rel="stylesheet" href="styles.css">
    <base href="/">
</head>
<body>
    <div class="container">
        <header>
            <h1>Bilibili API</h1>
            <p>通过 UID/BVID/直播间 ID 查询各种信息</p>
        </header>

        <nav class="nav-tabs">
            <div class="nav-item active" data-page="home">🏠 首页</div>
            <div class="nav-item" data-page="user">👤 用户</div>
            <div class="nav-item" data-page="video">🎬 视频</div>
            <div class="nav-item" data-page="live">🔴 直播</div>
            <div class="nav-item" data-page="rank">🏆 排行</div>
            <div class="nav-item" data-page="comment">💬 评论</div>
            <div class="nav-item" data-page="emoji">😀 表情</div>
            <div class="nav-item" data-page="api">📚 API</div>
            <div class="nav-item" data-page="chat">💬 交流</div>
        </nav>

        <main class="main-content">
            <!-- 首页 -->
            <div id="home-page" class="page active">
                <h2>欢迎使用 Bilibili API</h2>
                <p>这是一个基于 Bilibili API 的第三方工具，可以查询用户信息、视频数据等。</p>
                <div class="features">
                    <div class="feature-card">
                        <h3>👤 用户查询</h3>
                        <p>查询用户粉丝数、关注数、投稿视频数等信息</p>
                    </div>
                    <div class="feature-card">
                        <h3>🎬 视频分析</h3>
                        <p>获取视频播放量、点赞数、弹幕数等数据</p>
                    </div>
                    <div class="feature-card">
                        <h3>🔴 直播数据</h3>
                        <p>查看直播间在线人数等实时信息</p>
                    </div>
                    <div class="feature-card">
                        <h3>🏆 排行榜单</h3>
                        <p>获取各分区排行榜TOP视频信息</p>
                    </div>
                </div>
                <div class="emoji-display" id="emoji-display"></div>
            </div>

            <!-- 用户查询 -->
            <div id="user-page" class="page">
                <h2>👤 用户信息查询</h2>
                <div class="input-group">
                    <input type="text" id="user-uid" placeholder="请输入用户UID">
                    <button onclick="getUserInfo()">📈 基本信息</button>
                    <button onclick="checkLive()">🔴 直播状态</button>
                </div>
                <div class="results" id="user-results"></div>
            </div>

            <!-- 视频查询 -->
            <div id="video-page" class="page">
                <h2>🎬 视频信息查询</h2>
                <div class="input-group">
                    <input type="text" id="video-bvid" placeholder="请输入视频BVID">
                    <button onclick="getVideoInfo()">🔍 查询</button>
                </div>
                <div class="results" id="video-results"></div>
            </div>

            <!-- 直播间查询 -->
            <div id="live-page" class="page">
                <h2>🔴 直播间信息查询</h2>
                <div class="input-group">
                    <input type="text" id="live-room" placeholder="请输入直播间ID">
                    <button onclick="getLiveOnline()">👥 在线人数</button>
                </div>
                <div class="results" id="live-results"></div>
            </div>

            <!-- 排行榜 -->
            <div id="rank-page" class="page">
                <h2>🏆 分区排行榜</h2>
                <div class="input-group">
                    <input type="text" id="rank-rid" placeholder="请输入分区ID (0为全站)">
                    <button onclick="getRankTop1()">🏅 日榜TOP1</button>
                </div>
                <div class="results" id="rank-results"></div>
            </div>

            <!-- 评论获取 -->
            <div id="comment-page" class="page">
                <h2>💬 视频热评获取</h2>
                <div class="input-group">
                    <input type="text" id="comment-bvid" placeholder="请输入视频BVID">
                    <input type="number" id="comment-count" placeholder="条数(1-3)" min="1" max="3" value="1">
                    <select id="comment-separator">
                        <option value="换行">换行</option>
                        <option value="空格">空格</option>
                        <option value="逗号">逗号</option>
                        <option value="时">时</option>
                    </select>
                    <button onclick="getHotComments()">💬 获取热评</button>
                </div>
                <div class="results" id="comment-results"></div>
            </div>

            <!-- 表情包 -->
            <div id="emoji-page" class="page">
                <h2>😀 随机表情</h2>
                <div class="emoji-display" id="emoji-display"></div>
                <button onclick="getRandomEmoji()">🔄 刷新</button>
            </div>

            <!-- API文档 -->
            <div id="api-page" class="page">
                <h2>📚 API文档</h2>
                <div class="api-docs">
                    <h3>接口说明</h3>
                    <ul>
                        <li><strong>用户关系数据</strong>: <code>https://api.bilibili.com/x/relation/stat?vmid=UID</code></li>
                        <li><strong>用户投稿数</strong>: <code>https://api.bilibili.com/x/space/navnum?mid=UID</code></li>
                        <li><strong>用户获赞数</strong>: <code>https://api.bilibili.com/x/space/upstat?mid=UID</code></li>
                        <li><strong>直播间状态</strong>: <code>https://api.live.bilibili.com/room/v1/Room/get_info?room_id=ID</code></li>
                        <li><strong>视频信息</strong>: <code>https://api.bilibili.com/x/web-interface/view?bvid=BVID</code></li>
                        <li><strong>视频评论</strong>: <code>https://api.bilibili.com/x/v2/reply?type=1&oid=BVID&sort=2</code></li>
                        <li><strong>排行榜</strong>: <code>https://api.bilibili.com/x/web-interface/ranking/v2?rid=ID&type=all</code></li>
                    </ul>
                    <p>注：由于跨域限制，实际使用了 <a href="https://api.allorigins.win/" target="_blank">AllOrigins</a> 代理</p>
                </div>
            </div>

            <!-- 交流社区 -->
            <div id="chat-page" class="page">
                <h2>💬 交流社区</h2>
                <div class="chat-container">
                    <iframe src="https://chat.qweather.net/channel/bilibili-api" frameborder="0" class="chat-iframe"></iframe>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>