<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bç«™ä¿¡æ¯æŸ¥è¯¢å·¥å…·</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“º Bilibili ä¿¡æ¯æŸ¥è¯¢</h1>
            <p>ä¸“ä¸šçš„Bç«™æ•°æ®æŸ¥è¯¢å·¥å…· - ä¸ºåˆ›ä½œè€…å’Œç²‰ä¸æœåŠ¡</p>
        </div>

        <nav class="nav">
            <ul class="nav-menu">
                <li class="nav-item active" data-page="home"><a href="#home">ğŸ  é¦–é¡µ</a></li>
                <li class="nav-item" data-page="user"><a href="#user">ğŸ‘¤ ç”¨æˆ·æŸ¥è¯¢</a></li>
                <li class="nav-item" data-page="video"><a href="#video">ğŸ¬ è§†é¢‘åˆ†æ</a></li>
                <li class="nav-item" data-page="live"><a href="#live">ğŸ”´ ç›´æ’­æ•°æ®</a></li>
                <li class="nav-item" data-page="rank"><a href="#rank">ğŸ† æ’è¡Œæ¦œå•</a></li>
                <li class="nav-item" data-page="comment"><a href="#comment">ğŸ’¬ è¯„è®ºè·å–</a></li>
                <li class="nav-item" data-page="emoji"><a href="#emoji">ğŸ˜Š è¡¨æƒ…åŒ…</a></li>
                <li class="nav-item" data-page="api"><a href="#api">ğŸ“š APIæ–‡æ¡£</a></li>
                <li class="nav-item" data-page="chat"><a href="#chat">ğŸ’¬ äº¤æµç¤¾åŒº</a></li>
            </ul>
        </nav>

        <div class="page active" id="home" data-page-id="home-page">
            <div class="page-header" data-icon="ğŸ ">
                <h2>é¦–é¡µæ¦‚è§ˆ</h2>
            </div>
            <p style="color: #666; font-size: 16px; margin-bottom: 30px;">æ¬¢è¿ä½¿ç”¨Bç«™ä¿¡æ¯æŸ¥è¯¢å·¥å…·ï¼è¯·é€‰æ‹©ä¸Šæ–¹èœå•ä¸­çš„åŠŸèƒ½è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
            
            <div class="feature-grid">
                <div class="feature-card" onclick="switchPage('user')">
                    <h4>ğŸ‘¤ ç”¨æˆ·æŸ¥è¯¢</h4>
                    <p>æŸ¥è¯¢ç”¨æˆ·ç²‰ä¸æ•°ã€å…³æ³¨æ•°ç­‰ä¿¡æ¯</p>
                </div>
                <div class="feature-card" onclick="switchPage('video')">
                    <h4>ğŸ¬ è§†é¢‘åˆ†æ</h4>
                    <p>è·å–è§†é¢‘æ’­æ”¾é‡ã€å¼¹å¹•æ•°ç­‰æ•°æ®</p>
                </div>
                <div class="feature-card" onclick="switchPage('live')">
                    <h4>ğŸ”´ ç›´æ’­æ•°æ®</h4>
                    <p>æŸ¥è¯¢ç›´æ’­é—´åœ¨çº¿äººæ•°å’ŒçŠ¶æ€</p>
                </div>
                <div class="feature-card" onclick="switchPage('rank')">
                    <h4>ğŸ† æ’è¡Œæ¦œå•</h4>
                    <p>è·å–å„åˆ†åŒºæ’è¡Œæ¦œTOP1</p>
                </div>
                <div class="feature-card" onclick="switchPage('comment')">
                    <h4>ğŸ’¬ è¯„è®ºè·å–</h4>
                    <p>è·å–è§†é¢‘çƒ­é—¨è¯„è®º</p>
                </div>
                <div class="feature-card" onclick="switchPage('emoji')">
                    <h4>ğŸ˜Š è¡¨æƒ…åŒ…</h4>
                    <p>éšæœºBç«™ç‰¹è‰²è¡¨æƒ…</p>
                </div>
                <div class="feature-card" onclick="switchPage('api')">
                    <h4>ğŸ“š APIæ–‡æ¡£</h4>
                    <p>æŸ¥çœ‹APIä½¿ç”¨æ–¹æ³•</p>
                </div>
                <div class="feature-card" onclick="switchPage('chat')">
                    <h4>ğŸ’¬ äº¤æµç¤¾åŒº</h4>
                    <p>å‚ä¸è®¨è®ºå’Œäº¤æµ</p>
                </div>
            </div>
        </div>

        <div class="page" id="user" data-page-id="user-page">
            <div class="page-header" data-icon="ğŸ‘¤">
                <h2>ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢</h2>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <label>ç”¨æˆ·UID</label>
                    <input type="text" id="user-uid" placeholder="è¾“å…¥ç”¨æˆ·UID" value="541080936">
                </div>
                <button class="btn" onclick="getUserInfo()">ğŸ“Š æŸ¥è¯¢ç”¨æˆ·æ•°æ®</button>
                <button class="btn" onclick="checkLive()">ğŸ”´ æ£€æŸ¥ç›´æ’­çŠ¶æ€</button>
            </div>
            <div class="results" id="user-results"></div>
        </div>

        <div class="page" id="video" data-page-id="video-page">
            <div class="page-header" data-icon="ğŸ¬">
                <h2>è§†é¢‘ä¿¡æ¯æŸ¥è¯¢</h2>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <label>è§†é¢‘BVID</label>
                    <input type="text" id="video-bvid" placeholder="è¾“å…¥è§†é¢‘BVID" value="BV1arpEz2EcE">
                </div>
                <button class="btn" onclick="getVideoInfo()">ğŸ“‹ è·å–è§†é¢‘ä¿¡æ¯</button>
            </div>
            <div class="results" id="video-results"></div>
        </div>

        <div class="page" id="live" data-page-id="live-page">
            <div class="page-header" data-icon="ğŸ”´">
                <h2>ç›´æ’­é—´æ•°æ®</h2>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <label>ç›´æ’­é—´ID</label>
                    <input type="text" id="live-room" placeholder="è¾“å…¥ç›´æ’­é—´ID" value="21452505">
                </div>
                <button class="btn" onclick="getLiveOnline()">ğŸ‘¥ æŸ¥è¯¢åœ¨çº¿äººæ•°</button>
            </div>
            <div class="results" id="live-results"></div>
        </div>

        <div class="page" id="rank" data-page-id="rank-page">
            <div class="page-header" data-icon="ğŸ†">
                <h2>æ’è¡Œæ¦œæŸ¥è¯¢</h2>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <label>åˆ†åŒºID</label>
                    <input type="text" id="rank-rid" placeholder="è¾“å…¥åˆ†åŒºID" value="0">
                </div>
                <button class="btn" onclick="getRankTop1()">ğŸ¥‡ è·å–æ—¥æ¦œTOP1</button>
            </div>
            <div class="results" id="rank-results"></div>
        </div>

        <div class="page" id="comment" data-page-id="comment-page">
            <div class="page-header" data-icon="ğŸ’¬">
                <h2>çƒ­è¯„è·å–</h2>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <label>è§†é¢‘BVID</label>
                    <input type="text" id="comment-bvid" placeholder="è¾“å…¥è§†é¢‘BVID" value="BV1arpEz2EcE">
                </div>
                <div class="input-group">
                    <label>è·å–æ•°é‡</label>
                    <select id="comment-count">
                        <option value="1">1æ¡</option>
                        <option value="2">2æ¡</option>
                        <option value="3">3æ¡</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>åˆ†éš”ç¬¦</label>
                    <select id="comment-separator">
                        <option value="æ¢è¡Œ">æ¢è¡Œ</option>
                        <option value="ç©ºæ ¼">ç©ºæ ¼</option>
                        <option value="é€—å·">é€—å·</option>
                        <option value="æ—¶">æ— åˆ†éš”</option>
                    </select>
                </div>
                <button class="btn" onclick="getHotComments()">ğŸ’¬ è·å–çƒ­è¯„</button>
            </div>
            <div class="results" id="comment-results"></div>
        </div>

        <div class="page" id="emoji" data-page-id="emoji-page">
            <div class="page-header" data-icon="ğŸ˜Š">
                <h2>éšæœºBç«™è¡¨æƒ…</h2>
            </div>
            <div class="form-group" style="text-align: center;">
                <button class="btn" onclick="getRandomEmoji()">ğŸ² ç”Ÿæˆéšæœºè¡¨æƒ…</button>
                <div id="emoji-display" class="emoji-display"></div>
            </div>
        </div>

        <div class="page" id="api" data-page-id="api-page">
            <div class="page-header" data-icon="ğŸ“š">
                <h2>APIæ–‡æ¡£</h2>
            </div>
            
            <div class="api-doc">
                <h3 style="color: #222; margin-bottom: 20px;">Bç«™ä¿¡æ¯æŸ¥è¯¢ API æ–‡æ¡£</h3>
                <p style="color: #666; margin-bottom: 20px; line-height: 1.6;">
                    æœ¬APIæä¾›Bç«™æ•°æ®æŸ¥è¯¢åŠŸèƒ½ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä½¿ç”¨äº†<strong style="color: #ff4757;">Cloudflare Pages Functions</strong>æ¥é¿å…è·¨åŸŸé—®é¢˜ï¼Œ
                    å®é™…ä¸Šè¿˜æ˜¯ä½¿ç”¨äº†bilibiliçš„APIæ‰€ä»¥<strong style="color: #ff4757;">è¯·ä¸è¦ä½¿ç”¨æœ¬ç½‘ç«™jsä»£ç ä¸­çš„API</strong>å¦‚éœ€ä½¿ç”¨APIè¯·çœ‹æœ¬APIæ–‡æ¡£ã€‚
                </p>
                
                <div class="api-section">
                    <h3>1. ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢</h3>
                    <div class="api-endpoint">
                        GET https://api.bilibili.com/x/relation/stat?vmid={uid}
                    </div>
                    <div class="api-params">
                        <h4>å‚æ•°è¯´æ˜:</h4>
                        <div class="param-item">
                            <strong>vmid</strong> (å¿…éœ€) - ç”¨æˆ·UID
                        </div>
                    </div>
                    <div class="example">
// JavaScript ç¤ºä¾‹<br>
const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://api.bilibili.com/x/relation/stat?vmid=541080936'));<br>
const data = await response.json();<br>
console.log(data.data.follower); // ç²‰ä¸æ•°
                    </div>
                    <div class="response">
                        <strong>å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": 0,<br>
                        &nbsp;&nbsp;"data": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"follower": 1000000,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"following": 500,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"black": 10<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <div class="api-section">
                    <h3>2. è§†é¢‘ä¿¡æ¯æŸ¥è¯¢</h3>
                    <div class="api-endpoint">
                        GET https://api.bilibili.com/x/web-interface/view?bvid={bvid}
                    </div>
                    <div class="api-params">
                        <h4>å‚æ•°è¯´æ˜:</h4>
                        <div class="param-item">
                            <strong>bvid</strong> (å¿…éœ€) - è§†é¢‘BVID
                        </div>
                    </div>
                    <div class="example">
// JavaScript ç¤ºä¾‹<br>
const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://api.bilibili.com/x/web-interface/view?bvid=BV1arpEz2EcE'));<br>
const data = await response.json();<br>
console.log(data.data.title); // è§†é¢‘æ ‡é¢˜
                    </div>
                    <div class="response">
                        <strong>å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": 0,<br>
                        &nbsp;&nbsp;"data": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"title": "è§†é¢‘æ ‡é¢˜",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"stat": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"view": 1000000,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"danmaku": 5000,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"like": 10000<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <div class="api-section">
                    <h3>3. ç›´æ’­é—´ä¿¡æ¯æŸ¥è¯¢</h3>
                    <div class="api-endpoint">
                        GET https://api.live.bilibili.com/room/v1/Room/get_info?room_id={room_id}
                    </div>
                    <div class="api-params">
                        <h4>å‚æ•°è¯´æ˜:</h4>
                        <div class="param-item">
                            <strong>room_id</strong> (å¿…éœ€) - ç›´æ’­é—´ID
                        </div>
                    </div>
                    <div class="example">
// JavaScript ç¤ºä¾‹<br>
const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://api.live.bilibili.com/room/v1/Room/get_info?room_id=21452505'));<br>
const data = await response.json();<br>
console.log(data.data.online); // åœ¨çº¿äººæ•°
                    </div>
                    <div class="response">
                        <strong>å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": 0,<br>
                        &nbsp;&nbsp;"data": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"online": 1000,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"live_status": 1<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <div class="api-section">
                    <h3>4. æ’è¡Œæ¦œæŸ¥è¯¢</h3>
                    <div class="api-endpoint">
                        GET https://api.bilibili.com/x/web-interface/ranking/v2?rid={rid}&type=all
                    </div>
                    <div class="api-params">
                        <h4>å‚æ•°è¯´æ˜:</h4>
                        <div class="param-item">
                            <strong>rid</strong> (å¿…éœ€) - åˆ†åŒºID (0ä¸ºå…¨ç«™)
                        </div>
                        <div class="param-item">
                            <strong>type</strong> (å¯é€‰) - ç±»å‹ (é»˜è®¤all)
                        </div>
                    </div>
                    <div class="example">
// JavaScript ç¤ºä¾‹<br>
const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://api.bilibili.com/x/web-interface/ranking/v2?rid=0&type=all'));<br>
const data = await response.json();<br>
console.log(data.data.list[0].title); // TOP1æ ‡é¢˜
                    </div>
                    <div class="response">
                        <strong>å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": 0,<br>
                        &nbsp;&nbsp;"data": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"list": [<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"title": "TOP1è§†é¢‘æ ‡é¢˜",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"stat": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"view": 1000000<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <div class="api-section">
                    <h3>5. è§†é¢‘è¯„è®ºæŸ¥è¯¢</h3>
                    <div class="api-endpoint">
                        GET https://api.bilibili.com/x/v2/reply?type=1&oid={bvid}&sort=2&ps={count}
                    </div>
                    <div class="api-params">
                        <h4>å‚æ•°è¯´æ˜:</h4>
                        <div class="param-item">
                            <strong>type</strong> (å¿…éœ€) - è¯„è®ºç±»å‹ (1ä¸ºè§†é¢‘è¯„è®º)
                        </div>
                        <div class="param-item">
                            <strong>oid</strong> (å¿…éœ€) - å¯¹è±¡ID (BVID)
                        </div>
                        <div class="param-item">
                            <strong>sort</strong> (å¿…éœ€) - æ’åºæ–¹å¼ (2ä¸ºæŒ‰çƒ­åº¦)
                        </div>
                        <div class="param-item">
                            <strong>ps</strong> (å¿…éœ€) - è·å–æ•°é‡ (æœ€å¤§3)
                        </div>
                    </div>
                    <div class="example">
// JavaScript ç¤ºä¾‹<br>
const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://api.bilibili.com/x/v2/reply?type=1&oid=BV1arpEz2EcE&sort=2&ps=1'));<br>
const data = await response.json();<br>
console.log(data.data.replies[0].content.message); // çƒ­é—¨è¯„è®º
                    </div>
                    <div class="response">
                        <strong>å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": 0,<br>
                        &nbsp;&nbsp;"data": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"replies": [<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"content": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"message": "è¿™æ˜¯ä¸€æ¡çƒ­é—¨è¯„è®º"<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <div class="api-section">
                    <h3>é”™è¯¯å¤„ç†</h3>
                    <p>å½“APIè¿”å›é”™è¯¯æ—¶ï¼Œé€šå¸¸ä¼šåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
                    <div class="response">
                        <strong>é”™è¯¯å“åº”ç¤ºä¾‹:</strong><br>
                        {<br>
                        &nbsp;&nbsp;"code": -404,<br>
                        &nbsp;&nbsp;"message": "ç¨¿ä»¶ä¸å­˜åœ¨"<br>
                        }
                    </div>
                    <p style="margin-top: 15px;">
                        <strong>å¸¸è§é”™è¯¯ç :</strong><br>
                        0: æˆåŠŸ<br>
                        -404: èµ„æºä¸å­˜åœ¨<br>
                        -500: æœåŠ¡å™¨é”™è¯¯<br>
                        62002: è§†é¢‘éœ€è¦ç™»å½•æ‰èƒ½è§‚çœ‹
                    </p>
                </div>

                <div class="api-section">
                    <h3>ä½¿ç”¨é™åˆ¶</h3>
                    <ul style="padding-left: 20px; color: #555; line-height: 1.6;">
                        <li>è¯·åˆç†ä½¿ç”¨APIï¼Œé¿å…é¢‘ç¹è¯·æ±‚</li>
                        <li>å»ºè®®æ·»åŠ è¯·æ±‚é—´éš”ï¼Œé¿å…è¢«é™åˆ¶è®¿é—®</li>
                        <li>æ•°æ®ä»…ä¾›å‚è€ƒï¼Œå®é™…æ•°æ®ä»¥Bç«™å®˜æ–¹ä¸ºå‡†</li>
                        <li>æ­¤APIä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="page" id="chat" data-page-id="chat-page">
            <div class="page-header" data-icon="ğŸ’¬">
                <h2>äº¤æµç¤¾åŒº</h2>
            </div>
            <div class="chat-container">
                <h3 style="color: #222; margin-bottom: 20px;">å‚ä¸è®¨è®º</h3>
                <p style="color: #666; margin-bottom: 20px;">æ¬¢è¿åœ¨ä¸‹æ–¹çš„è¯„è®ºåŒºåˆ†äº«ä½ çš„ä½¿ç”¨ä½“éªŒã€æå‡ºé—®é¢˜æˆ–å»ºè®®ï¼</p>
                
                <!-- Giscusè¯„è®ºç³»ç»Ÿ -->
                <div id="giscus-container" style="margin-top: 20px;">
                    <script src="https://giscus.app/client.js"
                            data-repo="coukayouxi/bilibiliTools"
                            data-repo-id="R_kgDOP5xTLA"
                            data-category="Ideas"
                            data-category-id="DIC_kwDOP5xTLM4CwExJ"
                            data-mapping="pathname"
                            data-strict="0"
                            data-reactions-enabled="1"
                            data-emit-metadata="0"
                            data-input-position="bottom"
                            data-theme="preferred_color_scheme"
                            data-lang="zh-CN"
                            data-loading="lazy"
                            crossorigin="anonymous"
                            async>
                    </script>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>Powered by <span class="bilibili-logo">Bilibili</span> API | ä¸“ä¸šBç«™æ•°æ®æŸ¥è¯¢å·¥å…·</p>
        <p style="margin-top: 5px; font-size: 12px; color: #999;">æ­¤å·¥å…·ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨</p>
    </div>

    <script src="script.js"></script>
</body>
</html>